<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="Reoreo125.Memopad.Views.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:comp="clr-namespace:Reoreo125.Memopad.Views.Components"
        xmlns:vm="clr-namespace:Reoreo125.Memopad.ViewModels.Windows"
        xmlns:commands="clr-namespace:Reoreo125.Memopad.Models.Commands"
        xmlns:prism="http://prismlibrary.com/"
        prism:ViewModelLocator.AutoWireViewModel="True"
        mc:Ignorable="d"
        Title="{Binding Title.Value, UpdateSourceTrigger=PropertyChanged}"
        Height="600"
        Width="900"
        Icon="/Resources/app.ico"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResizeWithGrip"
        Closing="MainWindow_Closing">
    <Window.InputBindings>
        <KeyBinding Gesture="Ctrl+N" Command="{Binding NewTextFileCommand}" />
        <KeyBinding Modifiers="Ctrl+Shift" Key="N" Command="{Binding OpenNewWindowCommand}" />
        <KeyBinding Modifiers="Ctrl" Key="O" Command="{Binding OpenTextFileCommand}" />
        <KeyBinding Modifiers="Ctrl" Key="S" Command="{Binding SaveTextFileCommand}" />
        <KeyBinding Modifiers="Ctrl+Shift" Key="S" Command="{Binding SaveAsTextFileCommand}" />
        <KeyBinding Modifiers="Ctrl" Key="P" Command="{Binding OpenPrintCommand}" />
        <KeyBinding Modifiers="Alt" Key="F4" Command="{Binding ExitCommand}" />

        <KeyBinding Modifiers="Ctrl" Key="F" Command="{Binding OpenFindCommand}" />
        <KeyBinding Key="F3" Command="{Binding FindNextCommand}" />
        <KeyBinding Modifiers="Shift" Key="F3" Command="{Binding FindPrevCommand}" />
        <KeyBinding Modifiers="Ctrl" Key="H" Command="{Binding OpenReplaceCommand}" />
        <KeyBinding Modifiers="Ctrl" Key="G" Command="{Binding OpenGoToLineCommand}" />

        <KeyBinding Modifiers="Ctrl" Key="OemPlus" Command="{Binding ZoomCommand}" CommandParameter="{x:Static commands:ZoomOperation.In}"/>
        <KeyBinding Modifiers="Ctrl" Key="OemMinus" Command="{Binding ZoomCommand}" CommandParameter="{x:Static commands:ZoomOperation.Out}"/>
        <KeyBinding Modifiers="Ctrl" Key="D0" Command="{Binding ZoomCommand}" CommandParameter="{x:Static commands:ZoomOperation.Reset}"/>
    </Window.InputBindings>
    <DockPanel>
        <!-- Menu Component -->
        <comp:Menu DockPanel.Dock="Top" />

        <!-- Status Bar Component -->
        <comp:StatusBar DockPanel.Dock="Bottom" />

        <!-- Content Area -->
        <Grid>
            <TextBox Name="EditorBox"
                     AcceptsReturn="True"
                     AcceptsTab="True"
                     FontFamily="{Binding FontFamily.Value}"
                     FontStyle="{Binding FontStyle.Value}"
                     FontWeight="{Binding FontWeight.Value}"
                     FontSize="{Binding FontSize.Value}"
                     Padding="5"
                     TextWrapping="{Binding TextWrapping.Value}"
                     VerticalScrollBarVisibility="Visible"
                     HorizontalScrollBarVisibility="Visible"
                     IsUndoEnabled="true"
                     Text="{Binding Text.Value, UpdateSourceTrigger=PropertyChanged}"
                     TextChanged="EditorBox_TextChanged"
                     SelectionChanged="EditorBox_SelectionChanged"
                     PreviewMouseWheel="EditorBox_PreviewMouseWheel">
                <TextBox.InputBindings>
                    <KeyBinding Gesture="Ctrl+X" Command="{Binding CutCommand}"/>
                    <KeyBinding Gesture="Ctrl+C" Command="{Binding CopyCommand}"/>
                    <KeyBinding Gesture="Ctrl+V" Command="{Binding PasteCommand}"/>
                    <KeyBinding Key="F5" Command="{Binding InsertDateTimeCommand}"/>
                </TextBox.InputBindings>
            </TextBox>
        </Grid>
    </DockPanel>
</Window>

